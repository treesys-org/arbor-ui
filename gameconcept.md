# ARBOR: KNOWLEDGE INJECTION PROTOCOL (ZERO-TOUCH)

## 1. The Vision: Decoupled Curriculum and Narrative
Arbor's vision for educational games is to separate **"What is learned"** from **"How it's played"**.

*   **The Teacher (Arbor Studio):** Writes lessons in plain text or Markdown. Knows nothing about programming or games.
*   **The Game Developer:** Creates narrative containers (scenes, dialogues) without hardcoding questions.
*   **The Game Engine (Runtime):** Downloads raw content from Arbor and uses a local (Ollama) or remote LLM to "understand" the lesson and generate game mechanics on the fly.

---

## 2. "The Architect and The Referee" Architecture

Since the Arbor "Builder" delivers content as-is (with HTML, Markdown, and noise), intelligence is moved to the client (the game) in two steps:

### Phase A: The Architect (Level Load)
When the game loads an Arbor module, it doesn't display the text. It sends it to an LLM with the role of "Architect".
*   **Input:** Raw text with HTML/Markdown tags (`<p>The <strong>photosynthesis</strong>...</p>`).
*   **Process:** The LLM cleans the text and extracts a logical structure (JSON) in memory.
*   **Output:** `{"key_concepts": ["Chlorophyll", "Sunlight"], "traps": ["Darkness"]}`.

### Phase B: The Referee (Gameplay)
During the game, each player interaction is sent to the LLM with the role of "Referee".
*   **Input:** Player action + Rules generated by the Architect.
*   **Process:** The Referee decides if the action demonstrates an understanding of the extracted concepts.
*   **Output:** Reactive narrative ("The guard lets you pass because you explained photosynthesis well.").

---

## 3. Advantages of the Zero-Touch Model

1.  **Total Compatibility:** Works with any existing Arbor repository, without the author needing to use special markers.
2.  **Zero Maintenance:** If the teacher edits the text on GitHub, the "Architect" will automatically generate new rules the next time the game is played.
3.  **Resilience:** The game itself is responsible for "purifying" the data (removing HTML, formatting), making the Arbor backend as simple as a static file server.

---

## 4. Technical Example (Python Prototype)

See the `juegopython.txt` file. This script demonstrates how to:
1.  Connect to a raw Arbor JSON.
2.  Clean dirty HTML using Python.
3.  Use Ollama to extract pedagogical concepts.
4.  Play a role-playing game against those concepts.